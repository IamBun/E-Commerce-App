{"version":3,"file":"static/js/746.aff669a7.chunk.js","mappings":"gJACA,MAAgC,qCAAhC,EAA+E,+BAA/E,EAAwH,+BAAxH,EAA2K,yCAA3K,EAA6N,8BAA7N,EAAoQ,8BAApQ,EAAgT,mCAAhT,EAA8V,gCAA9V,EAA2Y,kCAA3Y,EAA6b,qC,wFCwL7b,EA7KsB,SAACA,GACrB,IAAMC,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMF,KAAKG,WAAW,IACpDC,GAAaH,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMG,YAAYC,KAAK,IAC3DC,GAAON,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMK,IAAI,IAExCC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAmBC,EAAAA,EAAAA,UAEnBC,EAAUd,EAAKe,MAAK,SAACC,GAAG,OAAKA,EAAIC,IAAIC,OAASnB,EAAMoB,EAAE,IACtDC,EAAUpB,EAAKqB,QAEnB,SAACL,GAAG,OAAKA,EAAIM,WAAaR,EAAQQ,UAAYN,EAAIC,IAAIC,OAASnB,EAAMoB,EAAE,IAGnEI,EAAoB,SAACC,GAEzB,IAAMC,EAAWL,EAAQI,GAAOP,IAAIC,KACpCV,EAAS,WAAD,OAAYiB,GACtB,EA6DA,OACE,gCACGzB,EAAK0B,OAAS,IACb,4BACE,iBAAKC,UAAWC,EAAsB,WAEpC,iBAAKD,UAAWC,EAAgB,WAC9B,gBAAKC,IAAKf,EAAQgB,QAClB,gBAAKD,IAAKf,EAAQiB,QAClB,gBAAKF,IAAKf,EAAQkB,QAClB,gBAAKH,IAAKf,EAAQmB,WAGpB,gBAAKN,UAAWC,EAAgB,UAC9B,gBAAKC,IAAKf,EAAQgB,UAIpB,iBAAKH,UAAWC,EAA0B,WACxC,wBAAKd,EAAQoB,QACb,yBAAKC,EAAAA,EAAAA,IAAUrB,EAAQsB,UACvB,uBAAItB,EAAQuB,cACZ,wCAAgBvB,EAAQQ,aACxB,iBAAKK,UAAWC,EAAmB,WAEjC,6BACE,kBAAOU,QAAQ,GAAGC,IAAI,MAAK,wBAG3B,kBACEC,IAAK5B,EACL6B,KAAK,SACLP,KAAK,MACLf,GAAG,MACHuB,IAAI,IACJC,IAAI,KACJC,KAAK,IACLC,aAAc,QAGlB,mBAAQC,QA5FG,SAACC,GACxBA,EAAEC,iBACF,IAAMC,EAA0BrC,EAAiBsC,QAAQC,MAEnDC,EAAa,CACjBjC,GAAIL,EAAQG,IAAIC,KAChBmC,MAAOvC,EAAQgB,KACfI,KAAMpB,EAAQoB,KACdE,MAAOtB,EAAQsB,MACfkB,SAAUC,OAAON,IAEnB,IAAK7C,EAGH,OADAoD,EAAAA,GAAAA,KAAW,wBACJ,EAET,GAAMpD,IAEgB,IAAhBG,EAAKmB,SAEPhB,EAAS+C,EAAAA,EAAAA,UAAsBL,IAC/BI,EAAAA,GAAAA,QAAc,UAGZjD,EAAKmB,OAAS,GAAG,CAEnB,IAAK,IAAIgC,EAAI,EAAGA,EAAInD,EAAKmB,OAAQgC,IAE/B,GAAInD,EAAKmD,GAAGvC,KAAOpB,EAAMoB,GAcvB,OAbAqC,EAAAA,GAAAA,QAAc,YAAD,OACCjD,EAAKmD,GAAGxB,KAAI,uCACxB,CACEyB,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,WAGH,EAIZzD,EAAS+C,EAAAA,EAAAA,UAAsBL,IAC/BI,EAAAA,GAAAA,QAAc,QAChB,CAEJ,EA0CgD,mCAMxC,iBAAK7B,UAAWC,EAAe,WAC7B,2CACA,iDACA,cAAGD,UAAWC,EAAoB,SAAEd,EAAQsD,gBAI9C,iBAAKzC,UAAWC,EAAe,WAC7B,8CACA,gBAAKD,UAAWC,EAAiB,SAE9BR,EAAQM,OAAS,GAChBN,EAAQiD,KAAI,SAACrD,EAAKQ,GAAK,OACrB,SAAC8C,EAAA,EAAQ,CAEPC,KAAMvD,EACNwD,MAAOjD,EACPC,MAAOA,GAHFA,EAIL,UAMV,gBAAKG,UAAWC,EAAsB,UACpC,mBAAQkB,QAlIQ,SAACC,GAEzBA,EAAEC,iBACFxC,EAAS,QACX,EA8H6C,oCAKxB,IAAhBR,EAAK0B,SAAgB,wCACtB,SAAC,KAAc,CACbiC,SAAS,aACTC,UAAW,IACXC,iBAAiB,EACjBY,aAAa,EACbX,cAAY,EACZY,KAAK,EACLC,kBAAgB,EAChBX,WAAS,EACTD,cAAY,EACZI,MAAM,YAId,EC1KA,EAVmB,WACjB,IAAMS,GAASC,EAAAA,EAAAA,MAEf,OACE,+BACE,SAAC,EAAa,CAAC1D,GAAIyD,EAAOE,aAGhC,C","sources":["webpack://myapp/./src/components/detailPage/detailProduct.module.css?2501","components/detailPage/DetailProduct.js","page/DetailPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailProduct\":\"detailProduct_detailProduct__okKvL\",\"miniImg\":\"detailProduct_miniImg__gekiO\",\"imgMain\":\"detailProduct_imgMain__lpW2Z\",\"detailDescription\":\"detailProduct_detailDescription__S3E5A\",\"middle\":\"detailProduct_middle__dwjzq\",\"bottom\":\"detailProduct_bottom__FPDB2\",\"description\":\"detailProduct_description__6ZJ1n\",\"products\":\"detailProduct_products__cXGMo\",\"formButton\":\"detailProduct_formButton__vKTDu\",\"backToShopBtn\":\"detailProduct_backToShopBtn__zdHOs\"};","import classes from \"./detailProduct.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Products from \"../homePage/Products\";\r\nimport { editPrice } from \"../../store/function\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { cartActions } from \"../../store/cartStore\";\r\nimport { useRef } from \"react\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst DetailProduct = (props) => {\r\n  const data = useSelector((state) => state.data.currentData); //lay data tu store\r\n  const userActive = useSelector((state) => state.currentUser.email); // lay user hien tai\r\n  const cart = useSelector((state) => state.cart); //lay cart tu store\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const quantityInputRef = useRef();\r\n\r\n  const product = data.find((ele) => ele._id.$oid === props.id); //tim ra product dua theo id san pham da duoc click lay tu component cha\r\n  const related = data.filter(\r\n    // loc cac san pham tuong tu category / khong lay san pham hien tai\r\n    (ele) => ele.category === product.category && ele._id.$oid !== props.id\r\n  );\r\n\r\n  const showDetailHandler = (index) => {\r\n    //show detail san pham lien quan\r\n    const idDetail = related[index]._id.$oid;\r\n    navigate(`/detail/${idDetail}`);\r\n  };\r\n\r\n  const backToShopHandler = (e) => {\r\n    // button quay lai shop\r\n    e.preventDefault();\r\n    navigate(\"/shop\");\r\n  };\r\n\r\n  //Xu ly du lieu add to cart\r\n  const addToCartHandler = (e) => {\r\n    e.preventDefault();\r\n    const enteredQuantityInputRef = quantityInputRef.current.value;\r\n    // tao bien cart Detail chua thong tin cart\r\n    const cartDetail = {\r\n      id: product._id.$oid,\r\n      image: product.img1,\r\n      name: product.name,\r\n      price: product.price,\r\n      quantity: Number(enteredQuantityInputRef),\r\n    };\r\n    if (!userActive) {\r\n      //Neu chua dang nhap thi thong bao dang nhap\r\n      toast.warn(\"Login to continue !\");\r\n      return false;\r\n    }\r\n    if (!!userActive) {\r\n      // neu da dang nhap thi add to cart\r\n      if (cart.length === 0) {\r\n        // neu gio hang chua co gi thi add vao\r\n        dispatch(cartActions.addToCart(cartDetail));\r\n        toast.success(`Added`);\r\n      }\r\n      //neu nhu da co san pham trong gio hang thi thong bao, neu chua cÃ³ mat hang do trong gio hang thi them vao\r\n      if (cart.length > 0) {\r\n        // neu da ton tai gio hang\r\n        for (let i = 0; i < cart.length; i++) {\r\n          //neu da co san trong gio hang thi thong bao\r\n          if (cart[i].id === props.id) {\r\n            toast.warning(\r\n              `You have ${cart[i].name}. Modify your quantity in your cart`,\r\n              {\r\n                position: \"top-center\",\r\n                autoClose: 3000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n              }\r\n            );\r\n            return -1;\r\n          }\r\n        }\r\n        // duyet qua ma khong co thi them vao\r\n        dispatch(cartActions.addToCart(cartDetail));\r\n        toast.success(`Added`);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {data.length > 0 && (\r\n        <div>\r\n          <div className={classes.detailProduct}>\r\n            {/* anh mini o ben trai  */}\r\n            <div className={classes.miniImg}>\r\n              <img src={product.img1}></img>\r\n              <img src={product.img2}></img>\r\n              <img src={product.img3}></img>\r\n              <img src={product.img4}></img>\r\n            </div>\r\n            {/* anh chinh o giua  */}\r\n            <div className={classes.imgMain}>\r\n              <img src={product.img1}></img>\r\n            </div>\r\n\r\n            {/* thanh phan hien thi mo ta san pham o ben phai*/}\r\n            <div className={classes.detailDescription}>\r\n              <h1>{product.name}</h1>\r\n              <h3>{editPrice(product.price)}</h3>\r\n              <p>{product.short_desc}</p>\r\n              <h3>Category : {product.category}</h3>\r\n              <div className={classes.formButton}>\r\n                {/* form de lay du lieu cho vao cart */}\r\n                <form>\r\n                  <label htmlFor=\"\" for=\"qty\">\r\n                    Quantity:\r\n                  </label>\r\n                  <input\r\n                    ref={quantityInputRef}\r\n                    type=\"number\"\r\n                    name=\"qty\"\r\n                    id=\"qty\"\r\n                    min=\"1\"\r\n                    max=\"10\"\r\n                    step=\"1\"\r\n                    defaultValue={1}\r\n                  />\r\n                </form>\r\n                <button onClick={addToCartHandler}>Add to cart</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* MIDDLE thanh phan mo ta cu the  */}\r\n          <div className={classes.middle}>\r\n            <span>Description</span>\r\n            <h3>PRODUCT DESCRIPTION</h3>\r\n            <p className={classes.description}>{product.long_desc}</p>\r\n          </div>\r\n\r\n          {/* BOTTOM gom cac san pham lien quan */}\r\n          <div className={classes.bottom}>\r\n            <h3>RELATED PRODUCTS</h3>\r\n            <div className={classes.products}>\r\n              {/* Neu co san pham lien quan thi hien thi ra man hinh  */}\r\n              {related.length > 0 &&\r\n                related.map((ele, index) => (\r\n                  <Products\r\n                    key={index}\r\n                    item={ele} //obj chua thong tin san pham\r\n                    click={showDetailHandler} //click show san pham\r\n                    index={index} //index de hien thi\r\n                  />\r\n                ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Button de quay lai trang shop */}\r\n          <div className={classes.backToShopBtn}>\r\n            <button onClick={backToShopHandler}> Back To ShopPage</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Luc moi tai trang, Component duoc render lan dau chua co du lieu thi hien thi Loading...  */}\r\n      {data.length === 0 && <h1>Loading...</h1>}\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={3000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DetailProduct;\r\n","import DetailProduct from \"../components/detailPage/DetailProduct\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst DetailPage = () => {\r\n  const params = useParams();\r\n\r\n  return (\r\n    <>\r\n      <DetailProduct id={params.productId} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DetailPage;\r\n"],"names":["props","data","useSelector","state","currentData","userActive","currentUser","email","cart","navigate","useNavigate","dispatch","useDispatch","quantityInputRef","useRef","product","find","ele","_id","$oid","id","related","filter","category","showDetailHandler","index","idDetail","length","className","classes","src","img1","img2","img3","img4","name","editPrice","price","short_desc","htmlFor","for","ref","type","min","max","step","defaultValue","onClick","e","preventDefault","enteredQuantityInputRef","current","value","cartDetail","image","quantity","Number","toast","cartActions","i","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","long_desc","map","Products","item","click","newestOnTop","rtl","pauseOnFocusLoss","params","useParams","productId"],"sourceRoot":""}