{"ast":null,"code":"import store from\"../../store/store\";import{dataActions}from\"../../store/data\";import{useDispatch,useSelector}from\"react-redux\";import classes from\"./popup.module.css\";import{popupActions}from\"../../store/popup\";import{useNavigate}from\"react-router-dom\";import{editPrice}from\"../../store/function\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Popup=function Popup(props){//Popup hien ra khi click vao mot san pham trong Toptrending, nhan props obj chua thong tin san pham\nvar index=useSelector(function(state){return state.popup.index;});//lay ra index cua san pham\nvar products=useSelector(function(state){return state.data.currentData[index];});//lay ra san pham cu the\nvar dispatch=useDispatch();var navigate=useNavigate();window.addEventListener(\"keydown\",function(e){//click esc thi tat popup\nif(e.keyCode===27){//keycode nut esc === 27\ndispatch(popupActions.hidePopup());// gui dispatch tat popup\n}});var closePopup=function closePopup(){//click vao dau x thi tat popup\ndispatch(popupActions.hidePopup());};var viewDetailHandler=function viewDetailHandler(ele){//click vao viewDetail thi dieu huong den trang chi tiet\n// console.log(ele.$oid); // Lay ra id cua san pham\nnavigate(\"/detail/\".concat(ele.$oid));};return/*#__PURE__*/_jsxs(\"div\",{className:classes.popup,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.popupImg,children:/*#__PURE__*/_jsx(\"img\",{src:products.img1})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.popupDescription,children:[/*#__PURE__*/_jsx(\"h3\",{onClick:closePopup,children:\"x\"}),/*#__PURE__*/_jsx(\"h2\",{children:products.name}),/*#__PURE__*/_jsx(\"h2\",{children:editPrice(products.price)}),/*#__PURE__*/_jsx(\"p\",{children:products.short_desc}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){viewDetailHandler(products._id);},children:\"View detail\"})]})]});};export default Popup;","map":{"version":3,"names":["store","dataActions","useDispatch","useSelector","classes","popupActions","useNavigate","editPrice","Popup","props","index","state","popup","products","data","currentData","dispatch","navigate","window","addEventListener","e","keyCode","hidePopup","closePopup","viewDetailHandler","ele","$oid","popupImg","img1","popupDescription","name","price","short_desc","_id"],"sources":["E:/UDEMY LAB/PROJECT/E-Commerce/src/components/homePage/Popup.js"],"sourcesContent":["import store from \"../../store/store\";\r\nimport { dataActions } from \"../../store/data\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport classes from \"./popup.module.css\";\r\nimport { popupActions } from \"../../store/popup\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { editPrice } from \"../../store/function\";\r\n\r\nconst Popup = (props) => { //Popup hien ra khi click vao mot san pham trong Toptrending, nhan props obj chua thong tin san pham\r\n  const index = useSelector((state) => state.popup.index); //lay ra index cua san pham\r\n  const products = useSelector((state) => state.data.currentData[index]); //lay ra san pham cu the\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  window.addEventListener(\"keydown\", function (e) { //click esc thi tat popup\r\n    if (e.keyCode === 27) { //keycode nut esc === 27\r\n      dispatch(popupActions.hidePopup()); // gui dispatch tat popup\r\n    }\r\n  });\r\n\r\n  const closePopup = () => { //click vao dau x thi tat popup\r\n    dispatch(popupActions.hidePopup());\r\n  };\r\n\r\n  const viewDetailHandler = (ele) => { //click vao viewDetail thi dieu huong den trang chi tiet\r\n    // console.log(ele.$oid); // Lay ra id cua san pham\r\n    navigate(`/detail/${ele.$oid}`);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.popup}>\r\n      <div className={classes.popupImg}>\r\n        <img src={products.img1}></img>\r\n      </div>\r\n      <div className={classes.popupDescription}>\r\n        <h3 onClick={closePopup}>x</h3>\r\n        <h2>{products.name}</h2>\r\n        <h2>{editPrice(products.price)}</h2>\r\n        <p>{products.short_desc}</p>\r\n        {/* click button thi thuc hien ham viewDetail, voi ele lay ra la id cua products  */}\r\n        <button\r\n          onClick={() => {\r\n            viewDetailHandler(products._id);\r\n          }}\r\n        >\r\n          View detail\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,mBAAmB,CACrC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAOC,QAAO,KAAM,oBAAoB,CACxC,OAASC,YAAY,KAAQ,mBAAmB,CAChD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,sBAAsB,CAAC,wFAEjD,GAAMC,MAAK,CAAG,QAARA,MAAK,CAAIC,KAAK,CAAK,CAAE;AACzB,GAAMC,MAAK,CAAGP,WAAW,CAAC,SAACQ,KAAK,QAAKA,MAAK,CAACC,KAAK,CAACF,KAAK,GAAC,CAAE;AACzD,GAAMG,SAAQ,CAAGV,WAAW,CAAC,SAACQ,KAAK,QAAKA,MAAK,CAACG,IAAI,CAACC,WAAW,CAACL,KAAK,CAAC,GAAC,CAAE;AAExE,GAAMM,SAAQ,CAAGd,WAAW,EAAE,CAC9B,GAAMe,SAAQ,CAAGX,WAAW,EAAE,CAE9BY,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAE,SAAUC,CAAC,CAAE,CAAE;AAChD,GAAIA,CAAC,CAACC,OAAO,GAAK,EAAE,CAAE,CAAE;AACtBL,QAAQ,CAACX,YAAY,CAACiB,SAAS,EAAE,CAAC,CAAE;AACtC,CACF,CAAC,CAAC,CAEF,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CAAE;AACzBP,QAAQ,CAACX,YAAY,CAACiB,SAAS,EAAE,CAAC,CACpC,CAAC,CAED,GAAME,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,GAAG,CAAK,CAAE;AACnC;AACAR,QAAQ,mBAAYQ,GAAG,CAACC,IAAI,EAAG,CACjC,CAAC,CAED,mBACE,aAAK,SAAS,CAAEtB,OAAO,CAACQ,KAAM,wBAC5B,YAAK,SAAS,CAAER,OAAO,CAACuB,QAAS,uBAC/B,YAAK,GAAG,CAAEd,QAAQ,CAACe,IAAK,EAAO,EAC3B,cACN,aAAK,SAAS,CAAExB,OAAO,CAACyB,gBAAiB,wBACvC,WAAI,OAAO,CAAEN,UAAW,eAAO,cAC/B,oBAAKV,QAAQ,CAACiB,IAAI,EAAM,cACxB,oBAAKvB,SAAS,CAACM,QAAQ,CAACkB,KAAK,CAAC,EAAM,cACpC,mBAAIlB,QAAQ,CAACmB,UAAU,EAAK,cAE5B,eACE,OAAO,CAAE,kBAAM,CACbR,iBAAiB,CAACX,QAAQ,CAACoB,GAAG,CAAC,CACjC,CAAE,yBAGK,GACL,GACF,CAEV,CAAC,CAED,cAAezB,MAAK"},"metadata":{},"sourceType":"module"}