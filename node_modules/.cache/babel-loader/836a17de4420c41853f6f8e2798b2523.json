{"ast":null,"code":"import img from\"../SRCIMG/banner1.jpg\";import{Link}from\"react-router-dom\";import{useRef}from\"react\";import{validateSignInUser}from\"../../store/function\";import{useDispatch}from\"react-redux\";import{currentUserActions}from\"../../store/user\";import{useNavigate}from\"react-router-dom\";import classes from\"./login.module.css\";import{ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var emailInputRef=useRef();var passwordInputRef=useRef();var dispatch=useDispatch();var navigate=useNavigate();var signInHandler=function signInHandler(e){//click login\ne.preventDefault();var enteredEmailInputRef=emailInputRef.current.value;//lay gia tri tu input\nvar enteredPasswordInputRef=passwordInputRef.current.value;//tao obj user de luu\nvar currentUser={email:enteredEmailInputRef,password:enteredPasswordInputRef};if(validateSignInUser(currentUser)){// xu ly dang nhap thanh cong o day\ndispatch(currentUserActions.login(currentUser.email));// gui dispatch de luu email user hien tai\nnavigate(\"/\",{replace:true});//dang nhap thanh cong, chuyen trang home\n}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.login,children:[/*#__PURE__*/_jsx(\"img\",{src:img}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:signInHandler,className:classes.form,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",ref:emailInputRef}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",ref:passwordInputRef}),/*#__PURE__*/_jsx(\"button\",{children:\"SIGN IN\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Create an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\" Sign up\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:2000,hideProgressBar:false,newestOnTop:false,closeOnClick:false,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]});};export default Login;","map":{"version":3,"names":["img","Link","useRef","validateSignInUser","useDispatch","currentUserActions","useNavigate","classes","ToastContainer","Login","emailInputRef","passwordInputRef","dispatch","navigate","signInHandler","e","preventDefault","enteredEmailInputRef","current","value","enteredPasswordInputRef","currentUser","email","password","login","replace","form"],"sources":["E:/UDEMY LAB/PROJECT/E-Commerce/src/components/loginPage/Login.js"],"sourcesContent":["import img from \"../SRCIMG/banner1.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useRef } from \"react\";\r\nimport { validateSignInUser } from \"../../store/function\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { currentUserActions } from \"../../store/user\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport classes from \"./login.module.css\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Login = () => {\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const signInHandler = (e) => {\r\n    //click login\r\n    e.preventDefault();\r\n\r\n    const enteredEmailInputRef = emailInputRef.current.value; //lay gia tri tu input\r\n    const enteredPasswordInputRef = passwordInputRef.current.value;\r\n\r\n    //tao obj user de luu\r\n    const currentUser = {\r\n      email: enteredEmailInputRef,\r\n      password: enteredPasswordInputRef,\r\n    };\r\n\r\n    if (validateSignInUser(currentUser)) {\r\n      // xu ly dang nhap thanh cong o day\r\n      dispatch(currentUserActions.login(currentUser.email)); // gui dispatch de luu email user hien tai\r\n      navigate(\"/\", { replace: true }); //dang nhap thanh cong, chuyen trang home\r\n    }\r\n  };\r\n  return (\r\n    <div className={classes.login}>\r\n      <img src={img}></img>\r\n      <form onSubmit={signInHandler} className={classes.form}>\r\n        <h1>Sign In</h1>\r\n        <input type=\"text\" placeholder=\"Email\" ref={emailInputRef}></input>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          ref={passwordInputRef}\r\n        ></input>\r\n        <button>SIGN IN</button>\r\n        {/* Goi y chua co tai khoan thi chuyen den trang dang ky  */}\r\n        <h3>\r\n          Create an account ? <Link to=\"/register\"> Sign up</Link>\r\n        </h3>\r\n      </form>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={2000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick={false}\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,MAAOA,IAAG,KAAM,uBAAuB,CACvC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,MAAM,KAAQ,OAAO,CAC9B,OAASC,kBAAkB,KAAQ,sBAAsB,CACzD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,kBAAkB,KAAQ,kBAAkB,CACrD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,QAAO,KAAM,oBAAoB,CACxC,OAASC,cAAc,KAAQ,gBAAgB,CAC/C,MAAO,uCAAuC,CAAC,wFAE/C,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,GAAMC,cAAa,CAAGR,MAAM,EAAE,CAC9B,GAAMS,iBAAgB,CAAGT,MAAM,EAAE,CAEjC,GAAMU,SAAQ,CAAGR,WAAW,EAAE,CAC9B,GAAMS,SAAQ,CAAGP,WAAW,EAAE,CAE9B,GAAMQ,cAAa,CAAG,QAAhBA,cAAa,CAAIC,CAAC,CAAK,CAC3B;AACAA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAMC,qBAAoB,CAAGP,aAAa,CAACQ,OAAO,CAACC,KAAK,CAAE;AAC1D,GAAMC,wBAAuB,CAAGT,gBAAgB,CAACO,OAAO,CAACC,KAAK,CAE9D;AACA,GAAME,YAAW,CAAG,CAClBC,KAAK,CAAEL,oBAAoB,CAC3BM,QAAQ,CAAEH,uBACZ,CAAC,CAED,GAAIjB,kBAAkB,CAACkB,WAAW,CAAC,CAAE,CACnC;AACAT,QAAQ,CAACP,kBAAkB,CAACmB,KAAK,CAACH,WAAW,CAACC,KAAK,CAAC,CAAC,CAAE;AACvDT,QAAQ,CAAC,GAAG,CAAE,CAAEY,OAAO,CAAE,IAAK,CAAC,CAAC,CAAE;AACpC,CACF,CAAC,CACD,mBACE,aAAK,SAAS,CAAElB,OAAO,CAACiB,KAAM,wBAC5B,YAAK,GAAG,CAAExB,GAAI,EAAO,cACrB,cAAM,QAAQ,CAAEc,aAAc,CAAC,SAAS,CAAEP,OAAO,CAACmB,IAAK,wBACrD,+BAAgB,cAChB,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAEhB,aAAc,EAAS,cACnE,cACE,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CACtB,GAAG,CAAEC,gBAAiB,EACf,cACT,mCAAwB,cAExB,0DACsB,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,sBAAgB,GACrD,GACA,cACP,KAAC,cAAc,EACb,QAAQ,CAAC,YAAY,CACrB,SAAS,CAAE,IAAK,CAChB,eAAe,CAAE,KAAM,CACvB,WAAW,CAAE,KAAM,CACnB,YAAY,CAAE,KAAM,CACpB,GAAG,CAAE,KAAM,CACX,gBAAgB,MAChB,SAAS,MACT,YAAY,MACZ,KAAK,CAAC,OAAO,EACb,GACE,CAEV,CAAC,CAED,cAAeF,MAAK"},"metadata":{},"sourceType":"module"}