{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";var cart=localStorage.getItem(\"cart\")//Tim trong localStorage, neu chua co thi tao cart la mang rong\n?JSON.parse(localStorage.getItem(\"cart\")):[];var cartSlice=createSlice({name:\"cartSlice\",initialState:cart,reducers:{addToCart:function addToCart(state,action){state.push(action.payload);// them san pham moi vao mang cart\nlocalStorage.setItem(\"cart\",JSON.stringify(state));//luu vao local storage\n},updateCart:function updateCart(state,action){for(var i=0;i<state.length;i++){//kiem tra id san pham voi id cac san pham trong gio hang\nif(state[i].id===action.payload.id){//tim san pham duoc update qua id, cap nhat quantity moi\nstate[i].quantity=action.payload.quantity;}//neu san pham do quantity=0 thi xoa khoi mang\nif(state[i].quantity<1){state.splice(i,1);}}localStorage.setItem(\"cart\",JSON.stringify(state));//luu\n},deleteCart:function deleteCart(state,action){//xoa san pham\nfor(var i=0;i<state.length;i++){//kiem tra id san pham voi id cac san pham trong gio hang\nif(state[i].id===action.payload.id){state.splice(i,1);//xoa khoi mang\n}}localStorage.setItem(\"cart\",JSON.stringify(state));},logoutCart:function logoutCart(state){//xoa cart\nstate.splice(0,state.length);//xoa cart tu vi tri dau tien, xoa tat ca san pham, tra ve mang rong\n}}});export var cartActions=cartSlice.actions;export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cart","localStorage","getItem","JSON","parse","cartSlice","name","initialState","reducers","addToCart","state","action","push","payload","setItem","stringify","updateCart","i","length","id","quantity","splice","deleteCart","logoutCart","cartActions","actions","reducer"],"sources":["E:/UDEMY LAB/PROJECT/E-Commerce/src/store/cartStore.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst cart = localStorage.getItem(\"cart\") //Tim trong localStorage, neu chua co thi tao cart la mang rong\r\n  ? JSON.parse(localStorage.getItem(\"cart\"))\r\n  : [];\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cartSlice\",\r\n  initialState: cart,\r\n  reducers: {\r\n    addToCart(state, action) {\r\n      state.push(action.payload); // them san pham moi vao mang cart\r\n      localStorage.setItem(\"cart\", JSON.stringify(state)); //luu vao local storage\r\n    },\r\n    updateCart(state, action) {\r\n      for (let i = 0; i < state.length; i++) {\r\n        //kiem tra id san pham voi id cac san pham trong gio hang\r\n        if (state[i].id === action.payload.id) {\r\n          //tim san pham duoc update qua id, cap nhat quantity moi\r\n          state[i].quantity = action.payload.quantity;\r\n        }\r\n        //neu san pham do quantity=0 thi xoa khoi mang\r\n        if (state[i].quantity < 1) {\r\n          state.splice(i, 1);\r\n        }\r\n      }\r\n\r\n      localStorage.setItem(\"cart\", JSON.stringify(state)); //luu\r\n    },\r\n    deleteCart(state, action) {\r\n      //xoa san pham\r\n      for (let i = 0; i < state.length; i++) {\r\n        //kiem tra id san pham voi id cac san pham trong gio hang\r\n        if (state[i].id === action.payload.id) {\r\n          state.splice(i, 1); //xoa khoi mang\r\n        }\r\n      }\r\n\r\n      localStorage.setItem(\"cart\", JSON.stringify(state));\r\n    },\r\n\r\n    logoutCart(state) {\r\n      //xoa cart\r\n      state.splice(0, state.length); //xoa cart tu vi tri dau tien, xoa tat ca san pham, tra ve mang rong\r\n    },\r\n  },\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,GAAMC,KAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAE;AAAA,CACtCC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACxC,EAAE,CAEN,GAAMG,UAAS,CAAGN,WAAW,CAAC,CAC5BO,IAAI,CAAE,WAAW,CACjBC,YAAY,CAAEP,IAAI,CAClBQ,QAAQ,CAAE,CACRC,SAAS,oBAACC,KAAK,CAAEC,MAAM,CAAE,CACvBD,KAAK,CAACE,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC,CAAE;AAC5BZ,YAAY,CAACa,OAAO,CAAC,MAAM,CAAEX,IAAI,CAACY,SAAS,CAACL,KAAK,CAAC,CAAC,CAAE;AACvD,CAAC,CACDM,UAAU,qBAACN,KAAK,CAAEC,MAAM,CAAE,CACxB,IAAK,GAAIM,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,KAAK,CAACQ,MAAM,CAAED,CAAC,EAAE,CAAE,CACrC;AACA,GAAIP,KAAK,CAACO,CAAC,CAAC,CAACE,EAAE,GAAKR,MAAM,CAACE,OAAO,CAACM,EAAE,CAAE,CACrC;AACAT,KAAK,CAACO,CAAC,CAAC,CAACG,QAAQ,CAAGT,MAAM,CAACE,OAAO,CAACO,QAAQ,CAC7C,CACA;AACA,GAAIV,KAAK,CAACO,CAAC,CAAC,CAACG,QAAQ,CAAG,CAAC,CAAE,CACzBV,KAAK,CAACW,MAAM,CAACJ,CAAC,CAAE,CAAC,CAAC,CACpB,CACF,CAEAhB,YAAY,CAACa,OAAO,CAAC,MAAM,CAAEX,IAAI,CAACY,SAAS,CAACL,KAAK,CAAC,CAAC,CAAE;AACvD,CAAC,CACDY,UAAU,qBAACZ,KAAK,CAAEC,MAAM,CAAE,CACxB;AACA,IAAK,GAAIM,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,KAAK,CAACQ,MAAM,CAAED,CAAC,EAAE,CAAE,CACrC;AACA,GAAIP,KAAK,CAACO,CAAC,CAAC,CAACE,EAAE,GAAKR,MAAM,CAACE,OAAO,CAACM,EAAE,CAAE,CACrCT,KAAK,CAACW,MAAM,CAACJ,CAAC,CAAE,CAAC,CAAC,CAAE;AACtB,CACF,CAEAhB,YAAY,CAACa,OAAO,CAAC,MAAM,CAAEX,IAAI,CAACY,SAAS,CAACL,KAAK,CAAC,CAAC,CACrD,CAAC,CAEDa,UAAU,qBAACb,KAAK,CAAE,CAChB;AACAA,KAAK,CAACW,MAAM,CAAC,CAAC,CAAEX,KAAK,CAACQ,MAAM,CAAC,CAAE;AACjC,CACF,CACF,CAAC,CAAC,CAEF,MAAO,IAAMM,YAAW,CAAGnB,SAAS,CAACoB,OAAO,CAC5C,cAAepB,UAAS,CAACqB,OAAO"},"metadata":{},"sourceType":"module"}