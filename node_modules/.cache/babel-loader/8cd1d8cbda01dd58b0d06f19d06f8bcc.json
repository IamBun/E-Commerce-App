{"ast":null,"code":"var _jsxFileName = \"E:\\\\UDEMY LAB\\\\PROJECT\\\\E-Commerce\\\\src\\\\components\\\\shopPage\\\\ShopSearchDetail.js\",\n  _s = $RefreshSig$();\nimport Products from \"../homePage/Products\";\nimport classes from \"./shopSearchDetail.module.css\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { categoriesActions } from \"../../store/categories\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShopSearchDetail = () => {\n  _s();\n  const categoriesInputRef = useRef(); //nhan gia tri nhap vao\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const data = useSelector(state => state.data.currentData); // lay data tu store\n\n  useEffect(() => {\n    dispatch(categoriesActions.getCategories(data));\n  }, [data]); //lan dau tai trang thi lay data, khi data thay doi thi tai lai\n\n  const searchCategoryHandler = () => {\n    const enteredInputRef = categoriesInputRef.current.value.toLowerCase(); //lay gia tri tu input, khong viet hoa\n    let categoryArr = data.filter(\n    //tao mang moi lay tu mang data sao cho category trung voi category nhap tu input\n    ele => ele.category === enteredInputRef);\n    dispatch(categoriesActions.getCategories(categoryArr)); //goi len store luu mang category de hien thi\n  };\n\n  const categorySearch = useSelector(state => state.categories.categories); // lay mang category tu store, da duoc danh gia lai\n\n  const showDetailHandler = index => {\n    //khi click thi chuyen den trang detail san pham\n    const idDetail = categorySearch[index]._id.$oid; //lay id cua san pham\n    navigate(`/detail/${idDetail}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.shopSearchDetail,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter Search Here ! \",\n        ref: categoriesInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: searchCategoryHandler,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.searchDetail,\n      children: categorySearch.length > 0 ? categorySearch.map((ele, index) => /*#__PURE__*/_jsxDEV(Products, {\n        item: ele,\n        click: showDetailHandler,\n        index: index\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)) :\n      /*#__PURE__*/\n      // khong tim duoc san pham\n      _jsxDEV(\"h1\", {\n        children: \"No result !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(ShopSearchDetail, \"LvOdtn+4Y+P+BTGy3kQxlBQloo4=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n_c = ShopSearchDetail;\nexport default ShopSearchDetail;\nvar _c;\n$RefreshReg$(_c, \"ShopSearchDetail\");","map":{"version":3,"names":["Products","classes","useSelector","useEffect","useRef","useDispatch","categoriesActions","useNavigate","ShopSearchDetail","categoriesInputRef","dispatch","navigate","data","state","currentData","getCategories","searchCategoryHandler","enteredInputRef","current","value","toLowerCase","categoryArr","filter","ele","category","categorySearch","categories","showDetailHandler","index","idDetail","_id","$oid","shopSearchDetail","searchDetail","length","map"],"sources":["E:/UDEMY LAB/PROJECT/E-Commerce/src/components/shopPage/ShopSearchDetail.js"],"sourcesContent":["import Products from \"../homePage/Products\";\r\nimport classes from \"./shopSearchDetail.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { categoriesActions } from \"../../store/categories\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ShopSearchDetail = () => {\r\n  const categoriesInputRef = useRef(); //nhan gia tri nhap vao\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const data = useSelector((state) => state.data.currentData); // lay data tu store\r\n\r\n  useEffect(() => {\r\n    dispatch(categoriesActions.getCategories(data));\r\n  }, [data]); //lan dau tai trang thi lay data, khi data thay doi thi tai lai\r\n\r\n  const searchCategoryHandler = () => {\r\n    const enteredInputRef = categoriesInputRef.current.value.toLowerCase(); //lay gia tri tu input, khong viet hoa\r\n    let categoryArr = data.filter(\r\n      //tao mang moi lay tu mang data sao cho category trung voi category nhap tu input\r\n      (ele) => ele.category === enteredInputRef\r\n    );\r\n\r\n    dispatch(categoriesActions.getCategories(categoryArr)); //goi len store luu mang category de hien thi\r\n  };\r\n\r\n  const categorySearch = useSelector((state) => state.categories.categories); // lay mang category tu store, da duoc danh gia lai\r\n\r\n  const showDetailHandler = (index) => {\r\n    //khi click thi chuyen den trang detail san pham\r\n    const idDetail = categorySearch[index]._id.$oid; //lay id cua san pham\r\n    navigate(`/detail/${idDetail}`);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.shopSearchDetail}>\r\n      <div>\r\n        <input\r\n          placeholder=\"Enter Search Here ! \"\r\n          ref={categoriesInputRef}\r\n        ></input>\r\n        <button onClick={searchCategoryHandler}>Search</button>\r\n        {/* <button>Sort</button> */}\r\n      </div>\r\n      <div className={classes.searchDetail}>\r\n        {/* Tim duoc san pham phu hop  */}\r\n        {categorySearch.length > 0 ? (\r\n          categorySearch.map((ele, index) => (\r\n            <Products\r\n              key={index}\r\n              item={ele}\r\n              click={showDetailHandler}\r\n              index={index}\r\n            />\r\n          ))\r\n        ) : (\r\n          // khong tim duoc san pham\r\n          <h1>No result !</h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ShopSearchDetail;\r\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,OAAO,MAAM,+BAA+B;AACnD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,MAAM,QAAQ,OAAO;AAC9B,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAAC;AAE/C,MAAMC,gBAAgB,GAAG,MAAM;EAAA;EAC7B,MAAMC,kBAAkB,GAAGL,MAAM,EAAE,CAAC,CAAC;EACrC,MAAMM,QAAQ,GAAGL,WAAW,EAAE;EAC9B,MAAMM,QAAQ,GAAGJ,WAAW,EAAE;EAE9B,MAAMK,IAAI,GAAGV,WAAW,CAAEW,KAAK,IAAKA,KAAK,CAACD,IAAI,CAACE,WAAW,CAAC,CAAC,CAAC;;EAE7DX,SAAS,CAAC,MAAM;IACdO,QAAQ,CAACJ,iBAAiB,CAACS,aAAa,CAACH,IAAI,CAAC,CAAC;EACjD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC,CAAC,CAAC;;EAEZ,MAAMI,qBAAqB,GAAG,MAAM;IAClC,MAAMC,eAAe,GAAGR,kBAAkB,CAACS,OAAO,CAACC,KAAK,CAACC,WAAW,EAAE,CAAC,CAAC;IACxE,IAAIC,WAAW,GAAGT,IAAI,CAACU,MAAM;IAC3B;IACCC,GAAG,IAAKA,GAAG,CAACC,QAAQ,KAAKP,eAAe,CAC1C;IAEDP,QAAQ,CAACJ,iBAAiB,CAACS,aAAa,CAACM,WAAW,CAAC,CAAC,CAAC,CAAC;EAC1D,CAAC;;EAED,MAAMI,cAAc,GAAGvB,WAAW,CAAEW,KAAK,IAAKA,KAAK,CAACa,UAAU,CAACA,UAAU,CAAC,CAAC,CAAC;;EAE5E,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;IACnC;IACA,MAAMC,QAAQ,GAAGJ,cAAc,CAACG,KAAK,CAAC,CAACE,GAAG,CAACC,IAAI,CAAC,CAAC;IACjDpB,QAAQ,CAAE,WAAUkB,QAAS,EAAC,CAAC;EACjC,CAAC;EAED,oBACE;IAAK,SAAS,EAAE5B,OAAO,CAAC+B,gBAAiB;IAAA,wBACvC;MAAA,wBACE;QACE,WAAW,EAAC,sBAAsB;QAClC,GAAG,EAAEvB;MAAmB;QAAA;QAAA;QAAA;MAAA,QACjB,eACT;QAAQ,OAAO,EAAEO,qBAAsB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgB;IAAA;MAAA;MAAA;MAAA;IAAA,QAEnD,eACN;MAAK,SAAS,EAAEf,OAAO,CAACgC,YAAa;MAAA,UAElCR,cAAc,CAACS,MAAM,GAAG,CAAC,GACxBT,cAAc,CAACU,GAAG,CAAC,CAACZ,GAAG,EAAEK,KAAK,kBAC5B,QAAC,QAAQ;QAEP,IAAI,EAAEL,GAAI;QACV,KAAK,EAAEI,iBAAkB;QACzB,KAAK,EAAEC;MAAM,GAHRA,KAAK;QAAA;QAAA;QAAA;MAAA,QAKb,CAAC;MAAA;MAEF;MACA;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IACD;MAAA;MAAA;MAAA;IAAA,QACG;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAC,GAzDIpB,gBAAgB;EAAA,QAEHH,WAAW,EACXE,WAAW,EAEfL,WAAW,EAgBDA,WAAW;AAAA;AAAA,KArB9BM,gBAAgB;AA0DtB,eAAeA,gBAAgB;AAAC;AAAA"},"metadata":{},"sourceType":"module"}