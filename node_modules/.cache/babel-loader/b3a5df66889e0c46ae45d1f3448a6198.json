{"ast":null,"code":"import img from\"../SRCIMG/banner1.jpg\";import classes from\"./checkOut.module.css\";import{useSelector}from\"react-redux\";import{editPrice,TotalPrice}from\"../../store/function\";import{useRef}from\"react\";import{useDispatch}from\"react-redux\";import{billActions}from\"../../store/bill\";import{useNavigate}from\"react-router-dom\";import{cartActions}from\"../../store/cartStore\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CheckOut=function CheckOut(){var cart=useSelector(function(state){return state.cart;});//lay data tu cart\nvar isUser=useSelector(function(state){return state.currentUser.email;});var fullnameInputRef=useRef();var emailInputRef=useRef();var phoneInputRef=useRef();var addressInputRef=useRef();var dispatch=useDispatch();var navigate=useNavigate();var submitBillingFormHandler=function submitBillingFormHandler(e){e.preventDefault();var enteredFullnameInputRef=fullnameInputRef.current.value;var enteredEmailInputRef=emailInputRef.current.value;var enteredPhoneInputRef=phoneInputRef.current.value;var enteredAddressInputRef=addressInputRef.current.value;var billInfor={//tao bien de luu vao store\nname:enteredFullnameInputRef,email:enteredEmailInputRef,phone:enteredPhoneInputRef,address:enteredAddressInputRef,orderNumber:0};dispatch(billActions.getInfo(billInfor));// luu bill vao store\n// navigate(\"/\"); //chuyen ve home\ntoast.success(\"Thank for your order ! We will contact you soon !\",{//thong bao\nposition:\"top-center\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});setTimeout(function(){dispatch(cartActions.logoutCart());//xoa cart\nnavigate(\"/\");},5000);};return/*#__PURE__*/ (//gom banner o tren, bill o ben trai, detail total ben phai\n_jsxs(\"div\",{className:classes.checkOut,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.checkOutBannerImg,children:[/*#__PURE__*/_jsx(\"img\",{src:img}),/*#__PURE__*/_jsxs(\"div\",{className:classes.bannerDescription,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Checkout Page\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Last Chance! Free shipping on all orders ends today ! \"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.checkOutSection,children:[isUser&&cart.length>0&&/*#__PURE__*/ //neu khach hang da dang nhap va co gio hang thi cho checkout\n_jsxs(\"div\",{className:classes.customerInformation,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"BILLING DETAIL\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitBillingFormHandler,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"FULLNAME:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your fullname\",ref:fullnameInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"EMAIL:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your email\",ref:emailInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"PHONE NUMBER:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your phone number\",ref:phoneInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"ADDRESS:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your address \",ref:addressInputRef})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Place Order\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.checkOutCartInfo,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"YOUR ORDER\"}),cart.map(function(ele,index){return/*#__PURE__*/_jsxs(\"div\",{className:classes.orderDetail,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:ele.name})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:ele.quantity}),/*#__PURE__*/_jsx(\"span\",{children:\" x \"}),/*#__PURE__*/_jsxs(\"span\",{children:[editPrice(ele.price),\" \"]})]})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:classes.total,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total (VND):\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[editPrice(TotalPrice(cart).toString()),\" \"]})]})]})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:3000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]}));};export default CheckOut;","map":{"version":3,"names":["img","classes","useSelector","editPrice","TotalPrice","useRef","useDispatch","billActions","useNavigate","cartActions","ToastContainer","toast","CheckOut","cart","state","isUser","currentUser","email","fullnameInputRef","emailInputRef","phoneInputRef","addressInputRef","dispatch","navigate","submitBillingFormHandler","e","preventDefault","enteredFullnameInputRef","current","value","enteredEmailInputRef","enteredPhoneInputRef","enteredAddressInputRef","billInfor","name","phone","address","orderNumber","getInfo","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","setTimeout","logoutCart","checkOut","checkOutBannerImg","bannerDescription","checkOutSection","length","customerInformation","checkOutCartInfo","map","ele","index","orderDetail","quantity","price","total","toString"],"sources":["E:/UDEMY LAB/PROJECT/E-Commerce/src/components/checkOutPage/CheckOut.js"],"sourcesContent":["import img from \"../SRCIMG/banner1.jpg\";\r\nimport classes from \"./checkOut.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { editPrice, TotalPrice } from \"../../store/function\";\r\nimport { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { billActions } from \"../../store/bill\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { cartActions } from \"../../store/cartStore\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst CheckOut = () => {\r\n  const cart = useSelector((state) => state.cart); //lay data tu cart\r\n  const isUser = useSelector((state) => state.currentUser.email);\r\n  const fullnameInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const phoneInputRef = useRef();\r\n  const addressInputRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const submitBillingFormHandler = (e) => {\r\n    e.preventDefault();\r\n    const enteredFullnameInputRef = fullnameInputRef.current.value;\r\n    const enteredEmailInputRef = emailInputRef.current.value;\r\n    const enteredPhoneInputRef = phoneInputRef.current.value;\r\n    const enteredAddressInputRef = addressInputRef.current.value;\r\n\r\n    const billInfor = {\r\n      //tao bien de luu vao store\r\n      name: enteredFullnameInputRef,\r\n      email: enteredEmailInputRef,\r\n      phone: enteredPhoneInputRef,\r\n      address: enteredAddressInputRef,\r\n      orderNumber: 0,\r\n    };\r\n\r\n    dispatch(billActions.getInfo(billInfor)); // luu bill vao store\r\n    // navigate(\"/\"); //chuyen ve home\r\n    toast.success(\"Thank for your order ! We will contact you soon !\", {\r\n      //thong bao\r\n      position: \"top-center\",\r\n      autoClose: 3000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"light\",\r\n    });\r\n    setTimeout(() => {\r\n      dispatch(cartActions.logoutCart()); //xoa cart\r\n      navigate(\"/\");\r\n    }, 5000);\r\n  };\r\n\r\n  return (\r\n    //gom banner o tren, bill o ben trai, detail total ben phai\r\n    <div className={classes.checkOut}>\r\n      <div className={classes.checkOutBannerImg}>\r\n        <img src={img} />\r\n        <div className={classes.bannerDescription}>\r\n          <h1>Checkout Page</h1>\r\n          <h3>Last Chance! Free shipping on all orders ends today ! </h3>\r\n        </div>\r\n      </div>\r\n      {/* section chua order information  */}\r\n      <div className={classes.checkOutSection}>\r\n        {/* thong tin khach hang o ben trai  */}\r\n        {isUser &&\r\n          cart.length > 0 && ( //neu khach hang da dang nhap va co gio hang thi cho checkout\r\n            <div className={classes.customerInformation}>\r\n              <h2>BILLING DETAIL</h2>\r\n              <form onSubmit={submitBillingFormHandler}>\r\n                <div>\r\n                  <label>FULLNAME:</label>\r\n                  <input\r\n                    placeholder=\"Enter your fullname\"\r\n                    ref={fullnameInputRef}\r\n                  ></input>\r\n                </div>\r\n                <div>\r\n                  <label>EMAIL:</label>\r\n                  <input\r\n                    placeholder=\"Enter your email\"\r\n                    ref={emailInputRef}\r\n                  ></input>\r\n                </div>\r\n                <div>\r\n                  <label>PHONE NUMBER:</label>\r\n                  <input\r\n                    placeholder=\"Enter your phone number\"\r\n                    ref={phoneInputRef}\r\n                  ></input>\r\n                </div>\r\n                <div>\r\n                  <label>ADDRESS:</label>\r\n                  <input\r\n                    placeholder=\"Enter your address \"\r\n                    ref={addressInputRef}\r\n                  ></input>\r\n                </div>\r\n                <button>Place Order</button>\r\n              </form>\r\n            </div>\r\n          )}\r\n        {/* thong tin gio hang o ben phai  */}\r\n        <div className={classes.checkOutCartInfo}>\r\n          <h2>YOUR ORDER</h2>\r\n          {cart.map((ele, index) => {\r\n            return (\r\n              <div key={index} className={classes.orderDetail}>\r\n                <div>\r\n                  <h3>{ele.name}</h3>\r\n                </div>\r\n                <div>\r\n                  <span>{ele.quantity}</span>\r\n                  <span> x </span>\r\n                  <span>{editPrice(ele.price)} </span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          <div className={classes.total}>\r\n            <h2>Total (VND):</h2>\r\n            <h3>{editPrice(TotalPrice(cart).toString())} </h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={3000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckOut;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}