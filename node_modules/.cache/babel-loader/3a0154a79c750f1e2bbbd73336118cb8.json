{"ast":null,"code":"import _regeneratorRuntime from\"E:/UDEMY LAB/PROJECT/E-Commerce/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/UDEMY LAB/PROJECT/E-Commerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{Suspense}from\"react\";import{Routes,Route}from\"react-router-dom\";import HomePage from\".//page/HomePage\";import Layout from\"./components/layout/Layout\";import{useDispatch}from\"react-redux\";import{useEffect}from\"react\";import{dataActions}from\"./store/data\";import LoadingSpinner from\"./components/UI/LoadingSpinner\";//Lazy Load\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ShopPage=/*#__PURE__*/React.lazy(function(){return import(\".//page/ShopPage\");});var CheckoutPage=/*#__PURE__*/React.lazy(function(){return import(\".//page/CheckoutPage\");});var LoginPage=/*#__PURE__*/React.lazy(function(){return import(\".//page/LoginPage\");});var RegisterPage=/*#__PURE__*/React.lazy(function(){return import(\".//page/RegisterPage\");});var CartPage=/*#__PURE__*/React.lazy(function(){return import(\".//page/CartPage\");});var DetailPage=/*#__PURE__*/React.lazy(function(){return import(\".//page/DetailPage\");});function App(){var dispatch=useDispatch();var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://firebasestorage.googleapis.com/v0/b/funix-subtitle.appspot.com/o/Boutique_products.json?alt=media&token=dc67a5ea-e3e0-479e-9eaf-5e01bcd09c74\");case 3:res=_context.sent;if(res.ok){_context.next=6;break;}throw new Error(\"Loading failed !\");case 6:_context.next=8;return res.json();case 8:data=_context.sent;dispatch(dataActions.getData(data));_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);alert(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){getProducts();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",margin:\"100px auto\"},children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",element:/*#__PURE__*/_jsx(ShopPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(CheckoutPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/detail/:productId\",element:/*#__PURE__*/_jsx(DetailPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(HomePage,{})})]})})})});}export default App;","map":{"version":3,"names":["React","Suspense","Routes","Route","HomePage","Layout","useDispatch","useEffect","dataActions","LoadingSpinner","ShopPage","lazy","CheckoutPage","LoginPage","RegisterPage","CartPage","DetailPage","App","dispatch","getProducts","fetch","res","ok","Error","json","data","getData","alert","message","display","justifyContent","margin"],"sources":["E:/UDEMY LAB/PROJECT/E-Commerce/src/App.js"],"sourcesContent":["import React, { Suspense } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport HomePage from \".//page/HomePage\";\nimport Layout from \"./components/layout/Layout\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { dataActions } from \"./store/data\";\nimport LoadingSpinner from \"./components/UI/LoadingSpinner\";\n\n//Lazy Load\nconst ShopPage = React.lazy(() => import(\".//page/ShopPage\"));\nconst CheckoutPage = React.lazy(() => import(\".//page/CheckoutPage\"));\nconst LoginPage = React.lazy(() => import(\".//page/LoginPage\"));\nconst RegisterPage = React.lazy(() => import(\".//page/RegisterPage\"));\nconst CartPage = React.lazy(() => import(\".//page/CartPage\"));\nconst DetailPage = React.lazy(() => import(\".//page/DetailPage\"));\n\nfunction App() {\n  const dispatch = useDispatch();\n  const getProducts = async function () {\n    try {\n      const res = await fetch(\n        \"https://firebasestorage.googleapis.com/v0/b/funix-subtitle.appspot.com/o/Boutique_products.json?alt=media&token=dc67a5ea-e3e0-479e-9eaf-5e01bcd09c74\"\n      );\n\n      if (!res.ok) {\n        throw new Error(\"Loading failed !\");\n      }\n\n      const data = await res.json();\n      dispatch(dataActions.getData(data));\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  return (\n    <>\n      <Layout>\n        <Suspense\n          fallback={\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                margin: \"100px auto\",\n              }}\n            >\n              <LoadingSpinner />\n            </div>\n          }\n        >\n          <Routes>\n            <Route path=\"/\" element={<HomePage />}></Route>\n            <Route path=\"/shop\" element={<ShopPage />}></Route>\n            <Route path=\"/cart\" element={<CartPage />}></Route>\n            <Route path=\"/checkout\" element={<CheckoutPage />}></Route>\n            <Route path=\"/detail/:productId\" element={<DetailPage />}></Route>\n            <Route path=\"/login\" element={<LoginPage />}></Route>\n            <Route path=\"/register\" element={<RegisterPage />}></Route>\n            <Route path=\"*\" element={<HomePage />}></Route>\n          </Routes>\n        </Suspense>\n      </Layout>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"0PAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,MAAOC,SAAQ,KAAM,kBAAkB,CACvC,MAAOC,OAAM,KAAM,4BAA4B,CAC/C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,cAAc,CAC1C,MAAOC,eAAc,KAAM,gCAAgC,CAE3D;AAAA,6IACA,GAAMC,SAAQ,cAAGV,KAAK,CAACW,IAAI,CAAC,iBAAM,OAAM,CAAC,kBAAkB,CAAC,GAAC,CAC7D,GAAMC,aAAY,cAAGZ,KAAK,CAACW,IAAI,CAAC,iBAAM,OAAM,CAAC,sBAAsB,CAAC,GAAC,CACrE,GAAME,UAAS,cAAGb,KAAK,CAACW,IAAI,CAAC,iBAAM,OAAM,CAAC,mBAAmB,CAAC,GAAC,CAC/D,GAAMG,aAAY,cAAGd,KAAK,CAACW,IAAI,CAAC,iBAAM,OAAM,CAAC,sBAAsB,CAAC,GAAC,CACrE,GAAMI,SAAQ,cAAGf,KAAK,CAACW,IAAI,CAAC,iBAAM,OAAM,CAAC,kBAAkB,CAAC,GAAC,CAC7D,GAAMK,WAAU,cAAGhB,KAAK,CAACW,IAAI,CAAC,iBAAM,OAAM,CAAC,oBAAoB,CAAC,GAAC,CAEjE,QAASM,IAAG,EAAG,CACb,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAC9B,GAAMa,YAAW,4FAAG,wLAEEC,MAAK,CACrB,sJAAsJ,CACvJ,QAFKC,GAAG,kBAIJA,GAAG,CAACC,EAAE,8BACH,IAAIC,MAAK,CAAC,kBAAkB,CAAC,8BAGlBF,IAAG,CAACG,IAAI,EAAE,QAAvBC,IAAI,eACVP,QAAQ,CAACV,WAAW,CAACkB,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC,iFAEpCE,KAAK,CAAC,YAAMC,OAAO,CAAC,CAAC,qEAExB,kBAfKT,YAAW,0CAehB,CAEDZ,SAAS,CAAC,UAAM,CACdY,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,sCACE,KAAC,MAAM,wBACL,KAAC,QAAQ,EACP,QAAQ,cACN,YACE,KAAK,CAAE,CACLU,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,MAAM,CAAE,YACV,CAAE,uBAEF,KAAC,cAAc,IAAG,EAErB,uBAED,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAS,cAC/C,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAS,cACnD,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAS,cACnD,KAAC,KAAK,EAAC,IAAI,CAAC,WAAW,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,EAAS,cAC3D,KAAC,KAAK,EAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,cAAE,KAAC,UAAU,IAAI,EAAS,cAClE,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,SAAS,IAAI,EAAS,cACrD,KAAC,KAAK,EAAC,IAAI,CAAC,WAAW,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,EAAS,cAC3D,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAS,GACxC,EACA,EACJ,EACR,CAEP,CAEA,cAAed,IAAG"},"metadata":{},"sourceType":"module"}